# Caddy Module

The Caddy module provides functionalities to load, parse, merge, and export Caddyfile configurations. It is designed to handle Caddyfile directives and site blocks, allowing for flexible management and integration of Caddy server configurations.

## Features

- **Loading Caddyfile**: Reads a Caddyfile from a given path and parses it into an intermediate data structure.
- **Parsing**: Converts the Caddyfile content into a structured format with site blocks, directives, matchers, and addresses.
- **Merging**: Combines multiple Caddyfile instances, ensuring no duplicate blocks and merging blocks for the same domain.
- **Exporting**: Converts the structured data back into a Caddyfile format, ready for use by the Caddy server.
- **Security Configuration**: Supports the parsing and exporting of OAuth2 provider configurations within the Caddyfile.

## Data Structures

The module uses a set of V structs to represent the different elements of a Caddyfile, including:

- **CaddyFile**: Represents the entire Caddyfile, containing a list of site blocks.
- **SiteBlock**: Represents a site block within the Caddyfile, containing addresses and directives.
- **Address**: Represents a domain and port for a site block.
- **Directive**: Represents a directive within a site block, potentially containing matchers and sub-directives.
- **Matcher**: Represents matchers that can be used within directives.
- **UserTransform**: Represents user transformation rules in the security configuration.
- **UILink**: Represents UI link configurations within the security settings.

## Security Configuration

The module includes support for parsing and exporting security configurations, specifically for generic OAuth2 providers. This includes handling identity providers, authentication portals, and authorization policies within the Caddyfile.

## Usage

The module provides functions to:
- Load a Caddyfile from a file path.
- Parse the file content into a structured format.
- Merge multiple Caddyfile instances.
- Export the structured data back into a Caddyfile format.

The module ensures that configurations are managed efficiently, avoiding duplicates and maintaining a clean, structured format for Caddy server configurations.


### Notes

Some code and documentation in this module is generated by AI for efficiency. Further improvements and tests are encouraged.